# Supabase CLI Configuration
# This file configures Supabase for local development and remote environments
# Reference: https://supabase.com/docs/guides/cli/config

# ============================================================
# Project Configuration
# ============================================================

# Default project for `supabase` CLI commands
project_id = "hudo-dev"

# ============================================================
# Database
# ============================================================

[db]
# Port for local PostgreSQL instance (only used with `supabase start`)
port = 54322

# PostgreSQL version
# Match production version
major_version = 15

# ============================================================
# API
# ============================================================

[api]
# Port for local Supabase API server
port = 54321

# Enable/disable Kong
enabled = true

# ============================================================
# Auth (email/password only; social disabled)
# ============================================================

[auth]
# Email auth enabled (primary login method)
enabled = true

# Email provider configuration
[auth.email]
# Enable email auth (signup/login with email + password)
enable_signup = true

# ============================================================
# Storage (R2 via Vercel environment variables in production)
# ============================================================

[storage]
# Local file storage path for development
# In production, we use Cloudflare R2 via signed URLs
file_size_limit = 5368709120  # 5GB in bytes

# ============================================================
# Realtime
# ============================================================

[realtime]
# Enable Supabase Realtime for websocket subscriptions
enabled = true

# ============================================================
# Development
# ============================================================

# No edge functions in Sprint 0. Per-function config added here as needed:
# [functions.my-function]
# verify_jwt = true

# ============================================================
# Environment-Specific Notes
# ============================================================

# Three Supabase projects created manually:
#   - hudo-dev    (linked to this config, .env for local development)
#   - hudo-staging (used in staging Vercel environment)
#   - hudo-prod   (used in production Vercel environment)
#
# Connection details:
#   Each project has:
#     - NEXT_PUBLIC_SUPABASE_URL (project URL, safe to expose)
#     - NEXT_PUBLIC_SUPABASE_ANON_KEY (public key for browser)
#     - SUPABASE_SERVICE_ROLE_KEY (secret, server-only, never in client bundle)
#     - SUPABASE_DB_URL (direct PostgreSQL connection string)
#
# All projects have:
#   - Row Level Security (RLS) enabled at project level
#   - Email auth enabled
#   - Social providers disabled
#   - JWT expiration: 1 hour
#   - Refresh token expiration: 7 days
#
# See .env.example for variable names
