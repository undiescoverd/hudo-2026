# ============================================================
# Hudo — Environment Variables Reference
# Copy to .env.local for local development. Never commit real values.
# ============================================================

# --- Supabase ---
# Project URL from Supabase dashboard → Settings → API
# Format: https://<project-ref>.supabase.co | Projects: hudo-dev, hudo-staging, hudo-prod
# Required by: lib/auth.ts (browser client), app/middleware.ts (session refresh)
NEXT_PUBLIC_SUPABASE_URL=

# Anon (public) key — safe to expose to the browser
# Found in Supabase dashboard → Settings → API → Project API keys → anon/public
# Required by: lib/auth.ts (browser client), app/middleware.ts (session refresh)
NEXT_PUBLIC_SUPABASE_ANON_KEY=

# Service role key — server-side only; never expose to the client
# Found in Supabase dashboard → Settings → API → Project API keys → service_role/secret
# WARNING: Admin privileges. Never commit to git or expose to client. API routes only — never in lib/auth.ts or middleware.
SUPABASE_SERVICE_ROLE_KEY=

# Database connection string (PostgreSQL)
# Format: postgresql://[user[:password]@][netloc][:port][/dbname][?param1=value1&...]
# Used for direct database access in server-side code (migrations, seeds, etc.)
# Found in Supabase dashboard → Settings → Database → Connection string → Nodejs
SUPABASE_DB_URL=

# --- Cloudflare R2 (S3-compatible) ---
# R2 access key ID from Cloudflare dashboard → R2 → Manage API tokens
R2_ACCESS_KEY_ID=

# R2 secret access key
R2_SECRET_ACCESS_KEY=

# Cloudflare account ID (found in the right sidebar of the R2 dashboard)
R2_ACCOUNT_ID=

# R2 bucket name (e.g. hudo-dev / hudo-staging / hudo-prod)
R2_BUCKET_NAME=

# R2 S3-compatible endpoint — https://<ACCOUNT_ID>.r2.cloudflarestorage.com
R2_ENDPOINT=

# --- Upstash Redis (rate limiting) ---
# REST URL from Upstash console → your database → REST API
UPSTASH_REDIS_REST_URL=

# REST token
UPSTASH_REDIS_REST_TOKEN=

# --- Stripe ---
# Publishable key — safe to expose to the browser
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=

# Secret key — server-side only
STRIPE_SECRET_KEY=

# Webhook signing secret (from Stripe dashboard → Webhooks)
STRIPE_WEBHOOK_SECRET=

# --- Resend (transactional email) ---
RESEND_API_KEY=

# From address used for all outbound email (e.g. noreply@hudo.io)
RESEND_FROM_EMAIL=

# --- Sentry (error monitoring) ---
# DSN from Sentry project settings → Client Keys
NEXT_PUBLIC_SENTRY_DSN=
SENTRY_DSN=

# Auth token for source map upload (CI only — set in Vercel env, not .env.local)
SENTRY_AUTH_TOKEN=

# Sentry organization slug (for source map uploads)
SENTRY_ORG=

# Sentry project slug
SENTRY_PROJECT=

# --- PostHog (product analytics — consent-gated) ---
NEXT_PUBLIC_POSTHOG_KEY=
NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com

# --- App ---
# Public URL of the deployed app (used for generating links in emails, guest tokens etc.)
NEXT_PUBLIC_APP_URL=http://localhost:3000

# --- Playwright E2E (CI only — set as GitHub Actions secrets, not in .env.local) ---
# Base URL of the hudo-dev Vercel deployment to run E2E tests against
PLAYWRIGHT_TEST_URL=

# Pre-seeded test agency owner account in hudo-dev Supabase
E2E_TEST_AGENCY_EMAIL=
E2E_TEST_AGENCY_PASSWORD=

# Pre-seeded non-expiring guest link token in hudo-dev DB
E2E_GUEST_TEST_TOKEN=

# Pre-seeded Agency A and B accounts for multi-tenant isolation tests (S3-E2E-001)
E2E_AGENCY_A_EMAIL=
E2E_AGENCY_A_PASSWORD=
E2E_AGENCY_B_EMAIL=
E2E_AGENCY_B_PASSWORD=
